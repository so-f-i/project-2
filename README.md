# SignOfDestinyBot

## –ê–≤—Ç–æ—Ä—ã

### –ú–∞–≤–ª–µ–Ω–∫–æ –°–æ—Ñ—å—è –í–∞–¥–∏–º–æ–≤–Ω–∞ 

–ò–°–£: 466572  

### –†–æ–º–∞–Ω–æ–≤–∞ –ê–ª–∏—Å–∞ –ü–∞–≤–ª–æ–≤–Ω–∞

–ò–°–£: 425257 

---

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π Telegram-–±–æ—Ç–∞, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å–∞–º–æ—Ä–µ—Ñ–ª–µ–∫—Å–∏–∏. –ë–æ—Ç –≤–µ–¥—ë—Ç –∂—É—Ä–Ω–∞–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è, –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∏—Ç—å—Å—è –º—ã—Å–ª—è–º–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ–±–æ–ª—å—à–∏–µ –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏–ª–∏ —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç:

- –≤—ã–±—Ä–∞—Ç—å —Ç–µ–∫—É—â–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏–∑ –Ω–∞–±–æ—Ä–∞ –æ–ø—Ü–∏–π (üòä Happy, üåß Sad, üí´ Stressed –∏ –¥—Ä—É–≥–∏–µ);

- –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –¥–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –∫ —Å–≤–æ–µ–º—É –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é;

- –ø–æ–ª—É—á–∏—Ç—å –≤–æ–ø—Ä–æ—Å –¥–ª—è —Å–∞–º–æ—Ä–µ—Ñ–ª–µ–∫—Å–∏–∏, –ø–æ–º–æ–≥–∞—é—â–∏–π –æ—Å–æ–∑–Ω–∞—Ç—å —Å–≤–æ–π –¥–µ–Ω—å;

- –∑–∞–ø—Ä–æ—Å–∏—Ç—å ¬´–∫–æ—Å–º–∏—á–µ—Å–∫–∏–π¬ª —Å–æ–≤–µ—Ç ‚Äî –Ω–µ–±–æ–ª—å—à–æ–µ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –¥–µ–Ω—å;

- –ø–æ–ª—É—á–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ-–ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è.

–í—Å–µ –≤–≤–µ–¥—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Google –¢–∞–±–ª–∏—Ü—É, –≥–¥–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–∑–∂–µ. –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –±–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –∏–ª–∏ –±—É–¥—É—â–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞).

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è 

```
.
‚îú‚îÄ‚îÄ bot.py
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ README.md
‚îÇ
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ settings.py                       # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ data/                  
‚îÇ   ‚îú‚îÄ‚îÄ help_description.py               # –¢–µ–∫—Å—Ç—ã –¥–ª—è –∫–æ–º–∞–Ω–¥—ã /help –∏ –ø–æ–¥—Å–∫–∞–∑–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ mood.py                           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç—Ä–µ–∫–µ—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ prompts.py                        # –®–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π –±–æ—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ filters/                              # –§–∏–ª—å—Ç—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ is_admin.py
‚îÇ   ‚îî‚îÄ‚îÄ is_night_time.py
‚îÇ
‚îú‚îÄ‚îÄ routers/                              # –û—Å–Ω–æ–≤–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ admin_panel.py
‚îÇ   ‚îú‚îÄ‚îÄ commands.py
‚îÇ   ‚îî‚îÄ‚îÄ mood_fsm.py
‚îÇ
‚îú‚îÄ‚îÄ services/                             # –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ API
‚îÇ   ‚îú‚îÄ‚îÄ api_client.py
‚îÇ   ‚îî‚îÄ‚îÄ google_sheets.py
‚îÇ
‚îú‚îÄ‚îÄ states/
‚îÇ   ‚îî‚îÄ‚îÄ mood_states.py                    # –ö–ª–∞—Å—Å—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π –¥–ª—è —Ç—Ä–µ–∫–µ—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ storage/                              # –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ advice_cache.json
‚îÇ   ‚îú‚îÄ‚îÄ advice_cache.py
‚îÇ   ‚îú‚îÄ‚îÄ mood_log.json
‚îÇ   ‚îú‚îÄ‚îÄ mood_log.py
‚îÇ   ‚îî‚îÄ‚îÄ user_ids.json
‚îÇ
‚îî‚îÄ‚îÄ utils/                                # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
    ‚îú‚îÄ‚îÄ logger.py      
    ‚îî‚îÄ‚îÄ users.py
```

---

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–µ–∫—Ç–∞ SignOfDestinyBot
 
### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–£—Å—Ç–∞–Ω–æ–≤–∏ Git, –µ—Å–ª–∏ –æ–Ω –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.

–û—Ç–∫—Ä–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª (–∏–ª–∏ PowerShell / –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É) –∏ –≤—ã–ø–æ–ª–Ω–∏:

```
git clone https://github.com/so-f-i/project-2
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   
```
python -m venv .venv
# Windows:
.venv\Scripts\activate
#macOS/Linux:
source .venv/bin/activate
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   
```
pip install -r requirements.txt
```

### 4. –ü–æ–ª—É—á–µ–Ω–∏–µ Telegram —Ç–æ–∫–µ–Ω–∞

- –ü–µ—Ä–µ–π–¥–∏ –≤ Telegram, –Ω–∞–π–¥–∏ @BotFather

- –ù–∞–ø–∏—à–∏ /newbot –∏ —Å–ª–µ–¥—É–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º.

- –ü–æ–ª—É—á–∏—à—å Bot Token –≤–∏–¥–∞: 1234567890:AAEXAMPLEzYc...

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ Google Sheets
   
*–®–∞–≥ 1.* –í–∫–ª—é—á–µ–Ω–∏–µ Google Sheets –∏ Google Drive API

1) –ü–µ—Ä–µ–π–¥–∏ –≤ Google Cloud Console

2) –°–æ–∑–¥–∞–π –ø—Ä–æ–µ–∫—Ç (–µ—Å–ª–∏ –µ—â—ë –Ω–µ—Ç)

3) –ü–µ—Ä–µ–π–¥–∏ –≤:

- Sheets API

- Drive API

4) –ù–∞–∂–º–∏ Enable –¥–ª—è –∫–∞–∂–¥–æ–≥–æ

*–®–∞–≥ 2.* –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞

1) –í Google Cloud Console –∑–∞–π–¥–∏ –≤ IAM & Admin > Service Accounts

2) –ù–∞–∂–º–∏ Create Service Account

3) –£–∫–∞–∂–∏ –ª—é–±–æ–µ –∏–º—è, –Ω–∞–∂–º–∏ "Done"

3) –í —Å–ø–∏—Å–∫–µ –Ω–∞–∂–º–∏ –Ω–∞ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç ‚Üí –≤–∫–ª–∞–¥–∫–∞ Keys ‚Üí Add Key ‚Üí Create new key ‚Üí JSON

4) –°–æ—Ö—Ä–∞–Ω–∏ —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, google_credentials.json) –∏ –ø–æ–º–µ—Å—Ç–∏ –µ–≥–æ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞.

*–®–∞–≥ 3.* –î–æ—Å—Ç—É–ø –∫ Google Sheets

1) –°–æ–∑–¥–∞–π —Ç–∞–±–ª–∏—Ü—É –≤ Google Sheets –∏ –Ω–∞–∑–æ–≤–∏ –µ—ë SignOfDestinyBot

2) –ü–µ—Ä–µ–π–¥–∏ –≤ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç—É–ø–∞" —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü—ã

3) –°–∫–æ–ø–∏—Ä—É–π email –∏–∑ JSON-—Ñ–∞–π–ª–∞ (–ø–æ–ª–µ client_email)

4) –î–æ–±–∞–≤—å —ç—Ç–æ—Ç email –≤ —Ç–∞–±–ª–∏—Ü—É –∫–∞–∫ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞

### 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π .env —Ñ–∞–π–ª (–∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é –≤ –∫–æ–¥–µ) —Å —Ç–æ–∫–µ–Ω–æ–º –±–æ—Ç–∞/

–í bot.py –∑–∞–≥—Ä—É–∑–∏ –µ–≥–æ:

```
import os
from dotenv import load_dotenv
load_dotenv()
BOT_TOKEN = os.getenv("BOT_TOKEN")
```

### 7. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
    
–£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ, –∑–∞—Ç–µ–º:

```
python bot.py
```

–ï—Å–ª–∏ –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –±–æ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∏ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!
